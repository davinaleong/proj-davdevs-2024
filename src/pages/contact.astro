---
import MainLayoutAstro from "../layouts/main.layout.astro"
import * as contact from "../content/contact/main.md"
const { title, action, reachOut } = contact.frontmatter

const { NODE_ENV, API_URL, PUBLIC_APP_SLUG } = import.meta.env
const thisAction = `${API_URL}${action}`

const response = await fetch(`${API_URL}misc/messageTypes/${PUBLIC_APP_SLUG}/`)
const data = await response.json()
const { messageTypes } = data
---
<MainLayoutAstro title={title}>
  <section
  id="contact-hero"
  class="section section-contact section-contact-hero"
>
  <div class="wrapper section__wrapper | mx-auto p-4">
    <h1
      class="section-hero-home__heading | text-5xl font-bold text-neutral-50 uppercase"
    >
      {title}
    </h1>
  </div>
  <!-- ./wrapper -->
</section>

<section
  id="contact-content"
  class="section section-contact section-contact-content"
>
  <div class="wrapper section__wrapper | mx-auto p-4 flow">
    <div class="flow text-center">
      <p>I'm sorting out technical issues with the contact form.</p>
      <p>Meanwhile, you can reach out to me on <a href={reachOut} target="_blank">LinkedIn</a> ðŸ˜„.</p>
    </div>

    <!-- <form
      action={thisAction}
      method="post"
      class="form form-contact"
      data-element="contact-form"
    >
      <div class="form__alert | flow" data-element="form-alert">
        <h3 class="form__alert__header | text-2xl font-bold">Lorem Ipsum</h3>

        <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Tempore, repellendus.</p>
      </div>

      <input
        type="text"
        name="first_name"
        id="input-first_name"
        class="form__field"
        placeholder="Name"
        
      />
      <input
        type="text"
        name="last_name"
        id="input-last_name"
        class="form__field form__field-hidden"
        placeholder="Last Name"
      />
      <input
        type="email"
        name="email"
        id="input-email"
        class="form__field"
        placeholder="Email"
        
      />
      <select
        name="subject"
        id="input-subject"
        class="form__field"
        
      >
        <option value="">Subject</option>
        { messageTypes.data.map((messageType: any) => (
          <option value={messageType.id}>{messageType.title}</option>
        )) }
      </select>
      <textarea
        name="message"
        id="input-message"
        class="form__field form__field-message"
        placeholder="Message"
        cols="30"
        rows="10"
        minlength="5"
        
      ></textarea>
      <button class="btn btn-blue form__button form__button-submit" type="submit" data-element="btn-submit">
        <i class="fa-light fa-sharp fa-paper-plane"></i> Send
      </button>
      <button class="btn btn-neutral form__button form__button-reset" type="reset" data-element="btn-reset">
        <i class="fa-light fa-sharp fa-rotate-left"></i> Reset
      </button>
    </form> -->

    {NODE_ENV === `development` && <div class="flex gap-4" data-element="test">
      <button class="btn btn-neutral" type="button" data-element="btn-fill-form">
        <i class="fa-light fa-sharp fa-pen"></i> Fill Form
      </button>
    </div>}<!-- ./flex -->
  </div>
  <!-- ./wrapper -->
</section>
</MainLayoutAstro>