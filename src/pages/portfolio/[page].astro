---
import PortfolioLayoutAstro from "../../layouts/portfolio.layout.astro";
import { sortByDateDesc } from "../../lib/helpers.lib"

export async function getStaticPaths({ paginate }: any) {
  const projects: any = await Astro.glob("./../projects/*.md")
  projects.sort((a: any, b: any) => sortByDateDesc(a, b  ))
  return paginate(projects, { pageSize: import.meta.env.PER_PAGE })
}

const { page } = Astro.props
---

<PortfolioLayoutAstro page={page}/>